<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ActionGraphNodeCache (Buck)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ActionGraphNodeCache (Buck)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/facebook/buck/rules/ActionGraphCache.html" title="class in com.facebook.buck.rules"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/facebook/buck/rules/AddsToRuleKey.html" title="interface in com.facebook.buck.rules"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/facebook/buck/rules/ActionGraphNodeCache.html" target="_top">Frames</a></li>
<li><a href="ActionGraphNodeCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.facebook.buck.rules</div>
<h2 title="Class ActionGraphNodeCache" class="title">Class ActionGraphNodeCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.facebook.buck.rules.ActionGraphNodeCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ActionGraphNodeCache</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Cache for action graph subgraphs associated with particular target graph nodes, used to enable
 incremental action graph construction.

 <p>This class tracks target graph nodes and their associated build rule subgraphs. Whenever we
 start a new target graph walk, we invalidate parts of the cache that are stale. During the target
 graph walk <a href="../../../../com/facebook/buck/rules/ActionGraphCache.html#createActionGraphSerially-com.facebook.buck.event.BuckEventBus-com.facebook.buck.rules.TargetNodeToBuildRuleTransformer-com.facebook.buck.rules.TargetGraph-com.facebook.buck.rules.CellProvider-boolean-com.facebook.buck.config.IncrementalActionGraphMode-"><code>ActionGraphCache.createActionGraphSerially(com.facebook.buck.event.BuckEventBus, com.facebook.buck.rules.TargetNodeToBuildRuleTransformer, com.facebook.buck.rules.TargetGraph, com.facebook.buck.rules.CellProvider, boolean, com.facebook.buck.config.IncrementalActionGraphMode)</code></a>, if we find a target graph node that
 is in the cache, we grab the build rules that target node generated last time, and splice them
 into the new action graph, without traversing further down in the target graph. Once we've
 completed the walk, we make sure to update the <a href="../../../../com/facebook/buck/rules/BuildRuleResolver.html" title="interface in com.facebook.buck.rules"><code>BuildRuleResolver</code></a>s any of the build rules
 might be hanging on to to prevent leaking the previous action graph.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/facebook/buck/rules/ActionGraphNodeCache.html#ActionGraphNodeCache-int-">ActionGraphNodeCache</a></span>(int&nbsp;maxEntries)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/facebook/buck/rules/ActionGraphNodeCache.html#containsKey-com.facebook.buck.rules.TargetNode-">containsKey</a></span>(<a href="../../../../com/facebook/buck/rules/TargetNode.html" title="class in com.facebook.buck.rules">TargetNode</a>&lt;?,?&gt;&nbsp;targetNode)</code>
<div class="block">Checks whether a target node equivalent to the given target node is cached.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/facebook/buck/rules/ActionGraphNodeCache.html#finishTargetGraphWalk--">finishTargetGraphWalk</a></span>()</code>
<div class="block">Informs the cache that the current target graph walk is over.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/facebook/buck/rules/ActionGraphNodeCache.html#prepareForTargetGraphWalk-com.facebook.buck.rules.TargetGraph-com.facebook.buck.rules.BuildRuleResolver-">prepareForTargetGraphWalk</a></span>(<a href="../../../../com/facebook/buck/rules/TargetGraph.html" title="class in com.facebook.buck.rules">TargetGraph</a>&nbsp;targetGraph,
                         <a href="../../../../com/facebook/buck/rules/BuildRuleResolver.html" title="interface in com.facebook.buck.rules">BuildRuleResolver</a>&nbsp;ruleResolver)</code>
<div class="block">Prepares the cache for a target graph walk by incrementally invalidating the cache.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/facebook/buck/rules/BuildRule.html" title="interface in com.facebook.buck.rules">BuildRule</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/facebook/buck/rules/ActionGraphNodeCache.html#requireRule-com.facebook.buck.rules.TargetNode-">requireRule</a></span>(<a href="../../../../com/facebook/buck/rules/TargetNode.html" title="class in com.facebook.buck.rules">TargetNode</a>&lt;?,?&gt;&nbsp;targetNode)</code>
<div class="block">Adds the build rule for the given target node to the rule resolver.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ActionGraphNodeCache-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ActionGraphNodeCache</h4>
<pre>public&nbsp;ActionGraphNodeCache(int&nbsp;maxEntries)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="containsKey-com.facebook.buck.rules.TargetNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsKey</h4>
<pre>public&nbsp;boolean&nbsp;containsKey(<a href="../../../../com/facebook/buck/rules/TargetNode.html" title="class in com.facebook.buck.rules">TargetNode</a>&lt;?,?&gt;&nbsp;targetNode)</pre>
<div class="block">Checks whether a target node equivalent to the given target node is cached.</div>
</li>
</ul>
<a name="requireRule-com.facebook.buck.rules.TargetNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requireRule</h4>
<pre>public&nbsp;<a href="../../../../com/facebook/buck/rules/BuildRule.html" title="interface in com.facebook.buck.rules">BuildRule</a>&nbsp;requireRule(<a href="../../../../com/facebook/buck/rules/TargetNode.html" title="class in com.facebook.buck.rules">TargetNode</a>&lt;?,?&gt;&nbsp;targetNode)</pre>
<div class="block">Adds the build rule for the given target node to the rule resolver. Fetches from cache if
 available, and caches after creation if supported by the build rule.

 <p>Assumes we get called for a node's children before we get called for the node itself.</div>
</li>
</ul>
<a name="prepareForTargetGraphWalk-com.facebook.buck.rules.TargetGraph-com.facebook.buck.rules.BuildRuleResolver-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareForTargetGraphWalk</h4>
<pre>public&nbsp;void&nbsp;prepareForTargetGraphWalk(<a href="../../../../com/facebook/buck/rules/TargetGraph.html" title="class in com.facebook.buck.rules">TargetGraph</a>&nbsp;targetGraph,
                                      <a href="../../../../com/facebook/buck/rules/BuildRuleResolver.html" title="interface in com.facebook.buck.rules">BuildRuleResolver</a>&nbsp;ruleResolver)</pre>
<div class="block">Prepares the cache for a target graph walk by incrementally invalidating the cache.

 <p>Must be called before any <a href="../../../../com/facebook/buck/rules/ActionGraphNodeCache.html#requireRule-com.facebook.buck.rules.TargetNode-"><code>requireRule(com.facebook.buck.rules.TargetNode&lt;?, ?&gt;)</code></a> calls.</div>
</li>
</ul>
<a name="finishTargetGraphWalk--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>finishTargetGraphWalk</h4>
<pre>public&nbsp;void&nbsp;finishTargetGraphWalk()</pre>
<div class="block">Informs the cache that the current target graph walk is over.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/facebook/buck/rules/ActionGraphCache.html" title="class in com.facebook.buck.rules"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/facebook/buck/rules/AddsToRuleKey.html" title="interface in com.facebook.buck.rules"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/facebook/buck/rules/ActionGraphNodeCache.html" target="_top">Frames</a></li>
<li><a href="ActionGraphNodeCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
